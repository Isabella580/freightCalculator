<?php
// Input values
$inputs = [
    "Cargo Quantity (tons)" => 50000,
    "Load Rate (tons/day)" => 8000,
    "Discharge Rate (tons/day)" => 10000,
    "Extra Days" => 2,
    "Total DA (USD)" => 115000,
    "Laden Days" => 20,
    "Ballast Days" => 2,
    "Base Sailing Consumption (tons/day)" => 26,
    "Idle (Extra Sailing Consumption) (tons/day)" => 1.5,
    "Working (Port Consumption) (tons/day)" => 2.5,
    "Bunker Price (USD/ton)" => 550,
    "Commission (%)" => 2.5,
    "Daily Hire (USD/day)" => 13000
];

// Intermediate calculations
$loading_days = $inputs["Cargo Quantity (tons)"] / $inputs["Load Rate (tons/day)"];
$discharging_days = $inputs["Cargo Quantity (tons)"] / $inputs["Discharge Rate (tons/day)"];
$voyage_days = $loading_days + $discharging_days + $inputs["Extra Days"] + $inputs["Laden Days"] + $inputs["Ballast Days"];

$sailing_days = $inputs["Laden Days"] + $inputs["Ballast Days"];
$sailing_consumption = $sailing_days * ($inputs["Base Sailing Consumption (tons/day)"] + $inputs["Idle (Extra Sailing Consumption) (tons/day)"]);
$port_days = $loading_days + $discharging_days + $inputs["Extra Days"];
$port_consumption = $port_days * $inputs["Working (Port Consumption) (tons/day)"];
$total_bunker_consumption = $sailing_consumption + $port_consumption;
$bunker_cost = $total_bunker_consumption * $inputs["Bunker Price (USD/ton)"];
$hire_cost = $voyage_days * $inputs["Daily Hire (USD/day)"];
$commission_amount = ($bunker_cost + $hire_cost + $inputs["Total DA (USD)"]) * ($inputs["Commission (%)"] / 100);
$total_cost = $bunker_cost + $hire_cost + $inputs["Total DA (USD)"] + $commission_amount;
$price_per_ton = $total_cost / $inputs["Cargo Quantity (tons)"];

// Output results
echo "<h2>Freight Calculation Results</h2>";
echo "<ul>";
echo "<li>Loading Days: " . round($loading_days, 2) . "</li>";
echo "<li>Discharging Days: " . round($discharging_days, 2) . "</li>";
echo "<li>Total Voyage Days: " . round($voyage_days, 2) . "</li>";
echo "<li>Sailing Consumption (tons): " . round($sailing_consumption, 2) . "</li>";
echo "<li>Port Consumption (tons): " . round($port_consumption, 2) . "</li>";
echo "<li>Total Bunker Consumption (tons): " . round($total_bunker_consumption, 2) . "</li>";
echo "<li>Bunker Cost (USD): $" . round($bunker_cost, 2) . "</li>";
echo "<li>Vessel Hire Cost (USD): $" . round($hire_cost, 2) . "</li>";
echo "<li>Commission Amount (USD): $" . round($commission_amount, 2) . "</li>";
echo "<li>Total Cost (USD): $" . round($total_cost, 2) . "</li>";
echo "<li><strong>Price per Ton of Cargo (USD): $" . round($price_per_ton, 2) . "</strong></li>";
echo "</ul>";
?>


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Freight Cost Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    input { width: 100px; margin: 5px; }
    label { display: inline-block; width: 250px; }
    .result { margin-top: 20px; font-weight: bold; }
  </style>
</head>
<body>
  <h1>Freight Cost Calculator</h1>

  <div id="form">
    <label>Cargo Quantity (tons):</label><input type="number" id="cargo"><br>
    <label>Load Rate (tons/day):</label><input type="number" id="load"><br>
    <label>Discharge Rate (tons/day):</label><input type="number" id="discharge"><br>
    <label>Extra Days:</label><input type="number" id="extra"><br>
    <label>Total DA (USD):</label><input type="number" id="da"><br>
    <label>Laden Days:</label><input type="number" id="laden"><br>
    <label>Ballast Days:</label><input type="number" id="ballast"><br>
    <label>Base Sailing Consumption (tons/day):</label><input type="number" id="base"><br>
    <label>Idle Consumption (tons/day):</label><input type="number" id="idle"><br>
    <label>Port Consumption (tons/day):</label><input type="number" id="port"><br>
    <label>Bunker Price (USD/ton):</label><input type="number" id="bunker"><br>
    <label>Commission (%):</label><input type="number" id="commission"><br>
    <label>Daily Hire (USD/day):</label><input type="number" id="hire"><br>
    <button onclick="calculate()">Calculate</button>
  </div>

  <div class="result" id="output"></div>

  <script>
    function calculate() {
      const inputs = {
        cargo: +document.getElementById("cargo").value,
        load: +document.getElementById("load").value,
        discharge: +document.getElementById("discharge").value,
        extra: +document.getElementById("extra").value,
        da: +document.getElementById("da").value,
        laden: +document.getElementById("laden").value,
        ballast: +document.getElementById("ballast").value,
        base: +document.getElementById("base").value,
        idle: +document.getElementById("idle").value,
        port: +document.getElementById("port").value,
        bunker: +document.getElementById("bunker").value,
        commission: +document.getElementById("commission").value,
        hire: +document.getElementById("hire").value
      };

      const loadingDays = inputs.cargo / inputs.load;
      const dischargingDays = inputs.cargo / inputs.discharge;
      const voyageDays = loadingDays + dischargingDays + inputs.extra + inputs.laden + inputs.ballast;

      const sailingDays = inputs.laden + inputs.ballast;
      const sailingConsumption = sailingDays * (inputs.base + inputs.idle);
      const portDays = loadingDays + dischargingDays + inputs.extra;
      const portConsumption = portDays * inputs.port;
      const totalBunker = sailingConsumption + portConsumption;
      const bunkerCost = totalBunker * inputs.bunker;
      const hireCost = voyageDays * inputs.hire;
      const commissionAmount = (bunkerCost + hireCost + inputs.da) * (inputs.commission / 100);
      const totalCost = bunkerCost + hireCost + inputs.da + commissionAmount;
      const pricePerTon = totalCost / inputs.cargo;

      document.getElementById("output").innerHTML = `
        <p>Loading Days: ${loadingDays.toFixed(2)}</p>
        <p>Discharging Days: ${dischargingDays.toFixed(2)}</p>
        <p>Total Voyage Days: ${voyageDays.toFixed(2)}</p>
        <p>Total Bunker Consumption: ${totalBunker.toFixed(2)} tons</p>
        <p>Bunker Cost: $${bunkerCost.toFixed(2)}</p>
        <p>Hire Cost: $${hireCost.toFixed(2)}</p>
        <p>Commission: $${commissionAmount.toFixed(2)}</p>
        <p><strong>Total Cost: $${totalCost.toFixed(2)}</strong></p>
        <p><strong>Price per Ton: $${pricePerTon.toFixed(2)}</strong></p>
      `;
    }
  </script>
</body>
</html>